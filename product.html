// --- ส่วนที่แก้ไขใน loadProduct ของ product.html ---

if (p.salepage) {
    // 1. เพิ่มคลาส hidden เพื่อซ่อนเนื้อหาไว้ก่อน
    contentHTML += `
        <div id="salepage-section" class="hidden px-6 pb-16 overflow-hidden pt-4 transition-all duration-500">
            ${p.salepage}
        </div>`;
    
    container.innerHTML = contentHTML;

    const moreBtn = document.getElementById('more-detail-btn');
    const salepageSection = document.getElementById('salepage-section');

    moreBtn.classList.remove('hidden');
    moreBtn.onclick = () => {
        // 2. เมื่อกดปุ่ม ให้เอา hidden ออก และเลื่อนหน้าจอลงไป
        salepageSection.classList.remove('hidden');
        
        // รอสักครู่เพื่อให้เบราว์เซอร์ Render เนื้อหาก่อนค่อย Scroll
        setTimeout(() => {
            salepageSection.scrollIntoView({ behavior: 'smooth' });
            // เปลี่ยนชื่อปุ่มเป็น "ซ่อนรายละเอียด" (ตัวเลือกเสริม)
            // moreBtn.innerHTML = '<i class="fas fa-chevron-up"></i> ซ่อนรายละเอียด';
        }, 100);
    };
} else {
    container.innerHTML = contentHTML;
}
